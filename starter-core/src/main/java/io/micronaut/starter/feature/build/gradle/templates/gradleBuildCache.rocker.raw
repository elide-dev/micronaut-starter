@import io.micronaut.starter.feature.build.BuildCacheConfiguration
@args (BuildCacheConfiguration config)
@if (!config.isUseCustomCachePlugin()) {
buildCache {
@if (config.isEnableLocalCache()) {
    local {
        isEnabled = true
        @if (config.getLocalCacheDir() != null) {
        directory = File(rootDir, "@(config.getLocalCacheDir())")
        }
        @if (config.getLocalCacheTimeout() != null) {
        removeUnusedEntriesAfterDays = @(config.getLocalCacheTimeout())
        }
    }
}
@if (config.isEnableRemoteCache()) {
    remote<@(config.getRemoteCacheType())> {
        url = uri("@(config.getRemoteCacheUri())")
        @if (config.isUseExpectContinue()) {
        isUseExpectContinue = true
        }
        @if (config.isRemoteCachePushEnabled()) {
        isPush = true
        }
        @if (config.isRemoteCacheAllowUntrustedServer()) {
        isAllowUntrustedServer = true
        }
        @if (config.isRemoteCacheAllowUntrustedServer()) {
        isAllowInsecureProtocol = true
        }
    }
}
}
}
